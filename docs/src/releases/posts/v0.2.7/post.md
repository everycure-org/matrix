---
draft: false
date: 2025-01-21
categories:
  - Release
authors:
  - Siyan-Luo
  - lvijnck
  - oliverw1
  - emil-k
---
# `v0.2.7`:  Refactored Schema Validation, Enhanced Pipeline Automation, and Data Expansion

This release of the Matrix Platform prioritizes technical enhancements and refactoring for improved maintainability, pipeline automation, and data scalability.  Notably, Pandera has been replaced with a custom schema validation solution, and the Kedro pipeline execution schedule has been adjusted.  This release also introduces improvements to Docker image building, increases the size of fabricated datasets, and restructures several key modules.

<!-- more -->

## Schema Validation and Pipeline Automation

Two significant changes in this release are the replacement of Pandera with a custom schema validation approach and an adjustment to the Kedro pipeline execution schedule.

* **Custom Schema Validation:**  A custom utility, `matrix.utils.pa_utils`, now manages schema validation for both Pandas and PySpark DataFrames, replacing the direct use of Pandera and its Spark extension. This improves schema management, offering greater flexibility and avoiding potential dependency conflicts. The `check_output` decorator, now imported from `matrix.utils.pa_utils`, ensures consistent data quality checks across the pipeline. This change significantly impacts numerous functions, especially within the `data_release`, `embeddings`, `evaluation`, `matrix_generation`, and `preprocessing` pipelines.  This custom solution also addresses potential data type issues stemming from the Neo4j graph data science library.  The removal of the `knowledge_graph.py` file, which housed the Pandera schemas, further streamlines schema management.

* **Adjusted Pipeline Schedule:**  The automated Kedro pipeline now executes at 15:20 CET on the 1st of each month and on Tuesdays.  This adjustment is reflected in the cron expression within the `periodically-run-kedro-kg-release.yml` workflow file.  This file was renamed from `submit-kedro-pipeline.yml`.

## Data Expansion and Module Restructuring

Several improvements focus on data scalability and code organization:

* **Increased Fabricated Data:**  The volume of data generated by the `fabricator` has been increased for several datasets, including `rtx_kg2`, `clinical_trials`, `ec_medical_kg`, and `robokop`.  This change, reflected in `pipelines/matrix/conf/base/fabricator/parameters.yml`, provides more comprehensive test data.

* **Refactored Integration Transformers and Normalizers:**  Transformers and normalizers have been moved into dedicated subdirectories within the `matrix.pipelines.integration` directory (`transformers` and `normalizers`, respectively).  This restructuring improves code organization, making the codebase more maintainable.  Import paths for transformers have changed accordingly, and the `inject_object` decorator has been removed from several functions, simplifying node definitions.

## Technical Enhancements and Documentation

Further technical improvements and documentation updates enhance the platform:

* **Docker Build Verbosity:**  The Docker build process within the GitHub Actions workflow is now less verbose, improving log readability. The `stream_output` parameter in `run_subprocess` has been set to `False`.  The issue with the Docker image not being pushed correctly has been resolved.

* **Reverse-Chronological Release History:** Release documentation now displays releases in reverse chronological order (newest first), improving readability.

* **Simplified Kedro Pipeline Submission:**  Minor improvements simplify Kedro pipeline submission, including the removal of unnecessary `git status` commands.

* **Updated Release Aggregated YAML:**  The `releases_aggregated.yaml` file has been updated, removing outdated information and reordering releases.


This release focuses on significant technical improvements, including enhanced schema validation, pipeline automation adjustments, data expansion, and module restructuring. These changes contribute to a more robust, maintainable, and scalable Matrix Platform.  While there are no new features or experiments in this release, the underlying improvements pave the way for future development and enhancements.
