
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.app.everycure.org/pipeline/data/data_api/">
      
      
        <link rel="prev" href="../../status/">
      
      
        <link rel="next" href="../drug_disease_lists/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.41">
    
    
      
        <title>Data API - EC Tech Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.0253249f.min.css">
      
      

  
  
  
  
  <style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m-5-9A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"/></svg>');}</style>


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#data-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="EC Tech Docs" class="md-header__button md-logo" aria-label="EC Tech Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EC Tech Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Data API
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/everycure-org/matrix/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../onboarding/" class="md-tabs__link">
          
  
    
  
  Onboarding

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  Pipeline

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../experiments/" class="md-tabs__link">
          
  
    
  
  Experiments

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../releases/" class="md-tabs__link">
          
  
    
  
  Releases

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../FAQ/" class="md-tabs__link">
          
  
    
  
  FAQ

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../data_science/" class="md-tabs__link">
          
  
    
  
  Data science

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../infrastructure/" class="md-tabs__link">
          
  
    
  
  Infrastructure

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="EC Tech Docs" class="md-nav__button md-logo" aria-label="EC Tech Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    EC Tech Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/everycure-org/matrix/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../onboarding/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Onboarding
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Onboarding
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../onboarding/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../onboarding/git-crypt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git-Crypt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../onboarding/kedro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kedro 101
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../onboarding/local-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Local setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../onboarding/kedro_extensions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kedro extensions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../onboarding/pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_8" >
        
          
          <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Walkthroughs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            Walkthroughs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../onboarding/walkthroughs/kedro_notebook_example/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Example Notebook for Kedro
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../onboarding/walkthroughs/walkthrough/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Walkthrough: New Data Source
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../onboarding/walkthroughs/walkthrough_data_catalog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Walkthrough: Data Catalog
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../onboarding/contribute/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Contribute
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            Contribute
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../onboarding/contribute/documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Pipeline
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Pipeline
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../important_files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Key files and folders
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../status/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipeline Status
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Data
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Data API
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Data API
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-model" class="md-nav__link">
    <span class="md-ellipsis">
      Data Model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-versioning" class="md-nav__link">
    <span class="md-ellipsis">
      Data Versioning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#artifacts" class="md-nav__link">
    <span class="md-ellipsis">
      Artifacts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-data" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accessing data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kedro-based-access" class="md-nav__link">
    <span class="md-ellipsis">
      Kedro based access
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kedro based access">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-bigquery-data" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing BigQuery data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-neo4j-data" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing Neo4J data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cypher-based-access" class="md-nav__link">
    <span class="md-ellipsis">
      Cypher based access
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bigquery-based-access" class="md-nav__link">
    <span class="md-ellipsis">
      Bigquery based access
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-work" class="md-nav__link">
    <span class="md-ellipsis">
      Future work
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../drug_disease_lists/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diseases List
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../experiments/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Experiments
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Experiments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    2024
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/2024/LLM_embedding_initial_benchmark_summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    First LLM Embedding Benchmark
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/2024/MOA_RL_approach_1_actor_initial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actor-Critic network for finding the shortest path on a KG
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/2024/MOA_RL_approach_2_actor_initial_pubmed/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actor-Critic network for shortest path with PubMedBERT embeddings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/2024/compare_models_26_aug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comparing first pipeline run results to KGML-xDTD embedding based results
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/2024/ll-240816-E2E_Embeddings_Comparison/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comparison of Topological Embeddings Before First E2E Run.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/2024/merging_rtx_robokop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Merging RTX and Robokop
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/2024/neo4j_graphsage_optimization_troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Neo4j GraphSage Optimization - e2e run troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/2024/neo4j_node2vec_exec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node2Vec (GDS) in KGML-xDTD pipeline
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../releases/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Releases
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Releases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../releases/archive/2024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../FAQ/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            FAQ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../FAQ/common_errors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common Errors
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../data_science/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Data science
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Data science
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_science/evaluation_deep_dive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deep dive: Evaluation pipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_science/model_selection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Selection and Cross-Validation Techniques
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../data_science/runbooks/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Runbooks
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            Runbooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_science/runbooks/01_inference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Run Inference Pipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_science/runbooks/03_matrix_enrichment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customizing Matrix Generation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../infrastructure/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Infrastructure
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Infrastructure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../infrastructure/compute_cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes Cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../infrastructure/gcp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GCP Foundations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../infrastructure/runbooks/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Runbooks
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            Runbooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../infrastructure/runbooks/01_releases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a Release
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../infrastructure/runbooks/02_debug_github_actions_worker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fix Github Actions worker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../infrastructure/runbooks/03_run_pipeline_from_branch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running an experiment from a branch on the Every Cure Platform
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../infrastructure/argo_workflows_locally/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Argo Workflows locally [ in progress ]
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../infrastructure/glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-model" class="md-nav__link">
    <span class="md-ellipsis">
      Data Model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-versioning" class="md-nav__link">
    <span class="md-ellipsis">
      Data Versioning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#artifacts" class="md-nav__link">
    <span class="md-ellipsis">
      Artifacts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-data" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accessing data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kedro-based-access" class="md-nav__link">
    <span class="md-ellipsis">
      Kedro based access
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kedro based access">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-bigquery-data" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing BigQuery data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-neo4j-data" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing Neo4J data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cypher-based-access" class="md-nav__link">
    <span class="md-ellipsis">
      Cypher based access
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bigquery-based-access" class="md-nav__link">
    <span class="md-ellipsis">
      Bigquery based access
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-work" class="md-nav__link">
    <span class="md-ellipsis">
      Future work
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/everycure-org/matrix/edit/main/docs/src/pipeline/data/data_api.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="data-api">Data API</h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Note this information is partially outdated and will be improved soon as we pivot to a "data release" setup. More to come.</p>
</div>
<p>We publish our knowledge graph as 3 distinct artifacts:</p>
<ul>
<li>A Neo4J database</li>
<li>2 BigQuery tables (nodes &amp; edges)</li>
<li>2 GCS folders containing the node &amp; edge parquet files</li>
</ul>
<p>These artifacts are versioned and released on a monthly basis. The knowledge graph
integrates all our data sources into one unified graph, however we keep a
<code>upstream_data_source</code> column which allows filtering and tracking the source of the data
in the graph. Note this does not offer lineage all the way back to the original academic
paper, as this is something the intermediate sources need to provide.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Note we have not completed our automation for artifact releases yet, therefore we currently release the artifacts manually.</p>
</div>
<h2 id="data-model">Data Model</h2>
<p>Our knowledge-graph (KG) in Neo4J is modelled according to the <a href="https://biolink.github.io/biolink-model/">Biolink model</a>.</p>
<ol>
<li>Nodes are used to represent instances of <a href="https://biolink.github.io/biolink-model/#classes-visualization"><code>biolink classes</code></a>.</li>
<li>Node labels are used to augment nodes with their class name.</li>
<li>Biolink classes may be hierarchical, in that case we store <em>all</em> classes of the instance.</li>
</ol>
<div class="admonition info">
<p class="admonition-title">Nodes in Neo4J</p>
<p>Nodes should contain the following properties:</p>
<ol>
<li><code>Name</code>: name of the node</li>
<li><code>Description</code>: description of the node</li>
</ol>
</div>
<p>Our data can be previewed in <a href="https://console.cloud.google.com/bigquery?referrer=search&amp;project=mtrx-hub-dev-3of&amp;ws=!1m4!1m3!3m2!1smtrx-hub-dev-3of!2sdata_api">BigQuery</a>.</p>
<ol>
<li>Edges are used to represent instances of <a href="https://biolink.github.io/biolink-model/#predicates-visualization"><code>biolink predicates</code></a>.</li>
<li>The edge label is used to augment edges with their predicate name.</li>
<li>For hierachical predicates, we only store the most specific predicate.</li>
<li>We omit the <code>biolink:</code> prefix in predicate names for brevity.</li>
<li>Predicates are written in <a href="https://en.wikipedia.org/wiki/Snake_case">snake_case</a> format.</li>
</ol>
<div class="admonition info">
<p class="admonition-title">Edges in Neo4J</p>
<p>Edges in the graph should contain the following properties:</p>
<ol>
<li><code>knowledge_sources</code>: List of knowledge sources in <a href="https://github.com/biolink/information-resource-registry">infores</a> format.</li>
</ol>
<p>Our data can be previewed in <a href="https://console.cloud.google.com/bigquery?referrer=search&amp;project=mtrx-hub-dev-3of&amp;ws=!1m4!1m3!3m2!1smtrx-hub-dev-3of!2sdata_api">BigQuery</a>.</p>
</div>
<h2 id="data-versioning">Data Versioning</h2>
<p>Due to the countless number of sources and processing techniques our integrated knowledge-graph will keep evolving over time. We've designed the data API to embrace this ever changing nature of the knowledge graph. Each artifact produced by the integration layer will be augmented with a version number. When performing analysis, we aim to refer back to the version as to enable full reproducibility of the results.</p>
<p>The release process of the knowledge graph (KG) will be fully driven by our version control. We use a <code>trunk-based</code> strategy, i.e.,</p>
<ul>
<li>Changes to the KG are initiated by submitting a <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests">pull-request</a> to the repository, e.g.,<ul>
<li>Addition/removal of data sources</li>
<li>Changes to the processing for individual sources</li>
<li>Updates to the integration logic, e.g., entity resolution</li>
</ul>
</li>
<li>A pull request is only merged after it adheres to our coding standards.<ul>
<li>Code is formatted using the repo's pre-commit hooks</li>
<li>Code is equipped with proper testing</li>
<li>Source of information is added to the KG to enable lineage tracking</li>
</ul>
</li>
<li>After a pull request is merged, <a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging">git tags</a> are used to trigger releases, i.e.,<ul>
<li>New BigQuery tables are produced for the version</li>
<li>New Neo4J database is produced</li>
</ul>
</li>
</ul>
<pre class="mermaid"><code>gitGraph
   commit
   commit tag: "v0.0.1"
   branch feature/x
   checkout feature/x
   commit type: REVERSE
   branch feature/y
   checkout feature/y
   commit type: HIGHLIGHT
   checkout feature/x
   commit type: HIGHLIGHT
   checkout main
   merge feature/x
   merge feature/y tag: "v1.0.1"</code></pre>
<h2 id="artifacts">Artifacts</h2>
<p>Our KG is uniquely identified according to a <code>release</code>. The release is a date string in the form of <code>YYYYMMDD</code> and refers to the date of the release. We store the output in two target systems:</p>
<ul>
<li><strong>Neo4J</strong>: The native graph representation is stored in Neo4J.</li>
<li>We leverage distinct <a href="https://neo4j.com/docs/operations-manual/current/database-administration/standard-databases/create-databases/">Neo4J databases</a> to isolate different KG versions.</li>
<li>Databases are named according to the <code>everycure_&lt;release&gt;</code> format.</li>
<li>
<p>Multiple versions may be live at a given moment.</p>
</li>
<li>
<p><strong>BigQuery</strong>: A tabular representation of the graph is stored in BigQuery.</p>
</li>
<li>
<p>The tabular representation consist of an <code>edges</code> and <code>nodes</code> table.</p>
</li>
<li>These tables are co-located in a <a href="https://cloud.google.com/bigquery/docs/datasets-intro">BigQuery Dataset</a>.</li>
<li>Data for different releases is materialized in distinct tables using <a href="https://cloud.google.com/bigquery/docs/partitioned-tables#dt_partition_shard">sharding</a>. The table names are in <code>&lt;table_name&gt;_YYYMMDD</code> format.</li>
</ul>
<div class="admonition info">
<p class="admonition-title">BigQuery format</p>
</div>
<p>The tabular representation of the nodes and edges tables is obtained by storing the node/edge properties in distinct columns.</p>
<h2 id="accessing-data">Accessing data</h2>
<p>Released artifacts will be made accessible to working-group (WG) projects through our centralized hub project. The diagram below visualises the hub and working-group specific cloud projects, these environments have been configured with permissions to allow cross-project data access. The goal of this seperation is to enable internal experimentation within the projects of the respective working groups, and to isolate costs.</p>
<pre class="mermaid"><code>flowchart LR
  subgraph hub
    dev-env[hub&lt;sub&gt;dev&lt;/sub&gt;]
  end

  subgraph wgb[WG&lt;sub&gt;n&lt;/sub&gt;]
    wgn-dev[WG&lt;sup&gt;n&lt;/sup&gt;&lt;sub&gt;dev&lt;/sub&gt;]
  end

  subgraph wg2[WG&lt;sub&gt;2&lt;/sub&gt;]
    wg2-dev[WG&lt;sup&gt;2&lt;/sup&gt;&lt;sub&gt;dev&lt;/sub&gt;]
  end

  subgraph wg1[WG&lt;sub&gt;1&lt;/sub&gt;]
    wg1-dev[WG&lt;sup&gt;1&lt;/sup&gt;&lt;sub&gt;dev&lt;/sub&gt;]
  end

  dev-env --&gt; wg1-dev
  dev-env --&gt; wg2-dev
  dev-env --&gt; wgn-dev</code></pre>
<h3 id="kedro-based-access">Kedro based access</h3>
<p>We're using <a href="https://docs.kedro.org/en/stable/">Kedro</a> as our data pipelining framework. Kedro provides access to read and write data through the <a href="https://docs.kedro.org/en/stable/data/data_catalog.html">data catalog</a>.</p>
<h4 id="accessing-bigquery-data">Accessing BigQuery data</h4>
<p>Kedro does not provide an out-of-the-box BigQuery integration. We've therefore created a custom dataset to simplify the process of connecting to BigQuery.</p>
<p>Use the code snippet below to register the <code>BigQueryTableDataset</code> in the catalog. Upon being fed into a <a href="https://docs.kedro.org/en/stable/nodes_and_pipelines/nodes.html">Kedro node</a>, this dataset will yield the corresponding table in the form of a <a href="https://spark.apache.org/docs/latest/api/python/index.html">PySpark</a> dataframe.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<p>Our implementation of the <code>BigQueryTableDataset</code> is essentially a wrapper of the <a href="https://github.com/GoogleCloudDataproc/spark-bigquery-connector">spark-bigquery-connector</a>. Optimization techniques such as predicate pushdown are automatically performed upon usage.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># catalog.yml</span>
<span class="nt">example.bigquery.dataset</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">matrix.datasets.gcp.BigQueryTableDataset</span>
<span class="w">    </span><span class="nt">project_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;hub_project_id&gt;</span>
<span class="w">    </span><span class="nt">dataset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;kg_dataset_name&gt;</span>
<span class="w">    </span><span class="nt">table</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;table_name&gt;</span>
</code></pre></div>
<h4 id="accessing-neo4j-data">Accessing Neo4J data</h4>
<div class="admonition info">
<p class="admonition-title">Examples pending</p>
<p>We aim to add some examples on querying the biolink graph as soon as the instance is running.</p>
</div>
<p>Graph data in Neo4J is accessed through another custom dataset. This dataset essentially wraps the <a href="https://neo4j.com/docs/spark/current/">Neo4J Spark Connector</a>.</p>
<p>The Neo4J dataset allows for pulling data from Neo4J in the form of a Spark dataframe, in tabular format. Given that Neo4J stores data in graph format, the dataset requires additional configuration to convert graph data into a tabular structure and visa versa. That's where the <a href="https://neo4j.com/docs/spark/current/read/options/"><code>load_args</code></a> and <a href="https://neo4j.com/docs/spark/current/write/options/"><code>save_args</code></a> come in. </p>
<div class="highlight"><pre><span></span><code><span class="c1"># catalog.yml</span>
<span class="nt">example.neo4j.dataset</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">matrix.datasets.neo4j.Neo4JSparkDataset</span>
<span class="w">    </span><span class="nt">database</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">everycure-&lt;version&gt;</span>
<span class="w">    </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;neo4j_host&gt;</span>
<span class="w">    </span><span class="nt">table</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;table_name&gt;</span>

<span class="w">    </span><span class="c1"># Credentials</span>
<span class="w">    </span><span class="nt">credentials</span><span class="p">:</span>
<span class="w">      </span><span class="nt">authentication.type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">basic</span>
<span class="w">      </span><span class="nt">authentication.basic.username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">neo4j</span>
<span class="w">      </span><span class="nt">authentication.basic.password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;neo4j_password&gt;</span>

<span class="w">    </span><span class="c1"># Mapping the graph to tabular structure, i.e.,</span>
<span class="w">    </span><span class="c1"># the following configuration retrieves all nodes</span>
<span class="w">    </span><span class="c1"># with the `Entity` label into a table, where each</span>
<span class="w">    </span><span class="c1"># row is a node from the graph, and columns represent</span>
<span class="w">    </span><span class="c1"># their properies.</span>
<span class="w">    </span><span class="c1"># https://neo4j.com/docs/spark/current/read/options/</span>
<span class="w">    </span><span class="nt">load_args</span><span class="p">:</span>
<span class="w">      </span><span class="nt">labels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">:Entity</span>

<span class="w">    </span><span class="c1"># Mapping tabular structure to graph, i.e., save </span>
<span class="w">    </span><span class="c1"># each row from the Spark dataframe into a distinct</span>
<span class="w">    </span><span class="c1"># node with the `Entity` label. Columns from the </span>
<span class="w">    </span><span class="c1"># dataframe are used as node properties.</span>
<span class="w">    </span><span class="c1"># https://neo4j.com/docs/spark/current/write/options/</span>
<span class="w">    </span><span class="nt">save_args</span><span class="p">:</span>
<span class="w">      </span><span class="nt">labels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">:Entity</span>
</code></pre></div>
<h3 id="cypher-based-access">Cypher based access</h3>
<p>For more exploratory data analysis, the Neo4J instance can be accessed directly via the API endpoint.</p>
<h3 id="bigquery-based-access">Bigquery based access</h3>
<p>The tabular representation of our knowledge-graph can also be accessed directly through <a href="https://cloud.google.com/blog/products/data-analytics/announcing-bigquery-studio">BigQuery Studio</a>.</p>
<h2 id="future-work">Future work</h2>
<p>This is a very preliminary version of our API spec. Future refinements may include:</p>
<ul>
<li>Confidence scores for edges in source data</li>
<li>Expanding the biolink model for RWE data</li>
<li>Enriching the graph with information of the publication</li>
<li>Connections to merge different ontologies</li>
<li>Discuss adding <code>knowledge_level</code> and <code>agent_type</code> see <a href="https://github.com/NCATSTranslator/ReasonerAPI/blob/master/ImplementationGuidance/Specifications/knowledge_level_agent_type_specification.md">link</a>.</li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 7, 2024</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 7, 2024</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit", "content.code.copy", "content.tabs.link", "navigation.expand", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.path", "navigation.tracking", "toc.follow"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../../assets/js/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>