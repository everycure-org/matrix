services:
  pipeline_test:
    build: "pipelines/matrix"
    # entrypoint: |
    #   kedro run -p test --runner ThreadRunner
    stdin_open: true # docker run -i
    tty: true        # docker run -t
    environment:
      NEO4J_HOST: bolt://neo4j:7687
    depends_on:
      neo4j-start-up:
        condition: service_completed_successfully
    networks:
      - web