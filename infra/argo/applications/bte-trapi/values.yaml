replicaCount: 1

image:
  repository: ahueb1/bte-trapi
  pullPolicy: IfNotPresent
  tag: latest

env:
  - name: SENTRY_ENABLED
    value: "false"
  - name: REDIS_HOST
    value: "bte-trapi-redis-master.bte-trapi.svc.cluster.local"
  - name: REDIS_PORT
    value: "6379"
  - name: DEBUG
    value: "biomedical-id-resolver,bte*"
  - name: DEBUG_COLORS
    value: "true"

serviceAccount:
  create: true
  automount: true
  annotations: {}
  name: ""

service:
  type: NodePort
  port: 3000
  nodePort: 31800

ingress:
  enabled: false

resources:
  limits:
    cpu: "4"
    memory: "12Gi"
  requests:
    cpu: "4"
    memory: "12Gi"

redis:
  enabled: true
  auth:
    enabled: false
  resources:
    requests:
      memory: "2Gi"

initContainers:
  - name: bte-wait-for-redis
    image: busybox
    command:
      [
        "sh",
        "-c",
        "until nc -z bte-trapi-redis-master.bte-trapi.svc.cluster.local 6379; do echo waiting for redis; sleep 2; done;",
      ]
