replicaCount: 1

image:
  repository: ahueb1/bte-trapi
  pullPolicy: IfNotPresent
  tag: latest

env:
  - name: SENTRY_ENABLED
    value: "false"

serviceAccount:
  create: true
  automount: true
  annotations: {}
  name: ""

service:
  type: NodePort
  port: 3000
  nodePort: 31800

ingress:
  enabled: false

resources:
  limits:
    cpu: "4"
    memory: "6Gi"
  requests:
    cpu: "1"
    memory: "3Gi"

redis:
  enabled: true
  # Schedule Redis on management nodes
  master:
    nodeSelector:
      workload-type: management
    tolerations:
      - key: workload-type
        operator: Equal
        value: management
        effect: NoSchedule
  replica:
    nodeSelector:
      workload-type: management
    tolerations:
      - key: workload-type
        operator: Equal
        value: management
        effect: NoSchedule
  resources:
    limits:
      memory: "500Mi"
    requests:
      cpu: "100m"
      memory: "100Mi"

# Schedule BTE-TRAPI on management nodes
nodeSelector:
  workload-type: management

tolerations:
  - key: workload-type
    operator: Equal
    value: management
    effect: NoSchedule

# Add billing labels
podLabels:
  cost-center: infrastructure-management
  workload-category: platform-services
  service-tier: management
  billing-category: infrastructure
  component: bte-trapi
