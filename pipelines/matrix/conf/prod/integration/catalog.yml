_spark_csv_ds: &_spark_csv
  type: spark.SparkDataset
  versioned: true
  file_format: csv

_pandas_csv: &_pandas_csv
  type:  pandas.CSVDataset
  versioned: true

_bigquery_ds: &_bigquery_ds
  type: matrix.datasets.gcp.BigQueryTableDataset
  project_id: ${oc.env:GCP_PROJECT_ID}
  versioned: true

# -------------------------------------------------------------------------
# Datasets
# -------------------------------------------------------------------------

# overwriting the base catalog to use the bigquery datasets
integration.prm.rtx_kg2.nodes:
  <<: *_bigquery_ds
  dataset: kg_rtx_kg2
  table: "nodes_${globals:versions.release}"
  save_args:
    temporaryGcsBucket: ${globals:gcs_bucket}
    bigQueryTableLabel.kg: rtx_kg2
    bigQueryTableLabel.release: ${globals:versions.release}

integration.prm.rtx_kg2.edges:
  <<: *_bigquery_ds
  dataset: kg_rtx_kg2
  table: "edges_${globals:versions.release}"
  save_args:
    temporaryGcsBucket: ${globals:gcs_bucket}
    bigQueryTableLabel.kg: rtx_kg2
    bigQueryTableLabel.release: ${globals:versions.release}
