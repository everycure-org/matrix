_layer_raw: &_layer_raw
  metadata:
    kedro-viz:
      layer: raw

_layer_int: &_layer_int
  metadata:
    kedro-viz:
      layer: integration

_layer_prm: &_layer_prm
  metadata:
    kedro-viz:
      layer: primary

_pandas_csv: &_pandas_csv
  type:  pandas.CSVDataset

_spark_csv_ds: &_spark_csv
  type: spark.SparkDataset
  file_format: csv
  load_args:
    header: true
    sep: ","
  save_args:
    mode: overwrite
    header: true


# -------------------------------------------------------------------------
# Datasets
# -------------------------------------------------------------------------

preprocessing.raw.nodes:
  <<: *_layer_raw
  type: pandas.ExcelDataset
  filepath: ${globals:paths.raw}/exp.xlsx
  load_args:
    sheet_name: Nodes

preprocessing.raw.edges:
  <<: *_layer_raw
  type: pandas.ExcelDataset
  filepath: ${globals:paths.raw}/exp.xlsx
  load_args:
    sheet_name: Edges

preprocessing.int.nodes:
  <<: [*_layer_int]
  type: pandas.ExcelDataset
  filepath: ${globals:paths.int}/medical/nodes.xlsx
  save_args:
    sheet_name: Edges

preprocessing.prm.exp.nodes:
  <<: [*_layer_int]
  type: pandas.ExcelDataset
  filepath: ${globals:paths.prm}/exp/nodes.xlsx
  save_args:
    sheet_name: Edges

# preprocessing.int.exp.nodes@pandas:
#   <<: [*_layer_int, *_pandas_csv]
#   type: pandas.ExcelDataset
#   filepath: ${globals:paths.int}/exp/nodes.xlsx

# preprocessing.int.exp.nodes@spark:
#   <<: [*_layer_int, *_spark_csv]
#   filepath: ${globals:paths.int}/exp/nodes.csv

# preprocessing.int.exp.edges@pandas:
#   <<: [*_layer_int, *_pandas_csv]
#   filepath: ${globals:paths.int}/exp/edges.csv

# preprocessing.int.exp.edges@spark:
#   <<: [*_layer_int, *_spark_csv]
#   filepath: ${globals:paths.int}/exp/edges.csv

# preprocessing.prm.exp.nodes:
#   <<: [*_layer_prm, *_spark_csv]
#   filepath: ${globals:paths.prm}/exp/nodes

# preprocessing.prm.exp.edges:
#   <<: [*_layer_prm, *_spark_csv]
#   filepath: ${globals:paths.prm}/exp/edges