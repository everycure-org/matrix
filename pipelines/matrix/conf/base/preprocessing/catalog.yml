_layer_raw: &_layer_raw
  metadata:
    kedro-viz:
      layer: raw

_layer_int: &_layer_int
  metadata:
    kedro-viz:
      layer: integration

_layer_prm: &_layer_prm
  metadata:
    kedro-viz:
      layer: primary

_medical_clinical_trials_sheet_dataset: &_medical_clinical_trials_sheet_dataset
  type: matrix.datasets.gcp.GoogleSheetsDataset
  key: 1Wlrjr8ojUGCfWJg-QF5PzpJFqpD7LLH7b60u2XAngh0
  service_file: conf/local/service-account.json

# -------------------------------------------------------------------------
# Datasets
# -------------------------------------------------------------------------

preprocessing.raw.clinical_trials_data:
  <<: *_medical_clinical_trials_sheet_dataset
  load_args:
    sheet_name: new_clinical_trial_DD_pairs
    columns:
      - "clinical_trial_id"
      - "reason_for_rejection"
      - "drug_name"
      - "disease_name"
      - "significantly_better"
      - "non_significantly_better"
      - "non_significantly_worse"
      - "significantly_worse"

preprocessing.int.mapped_clinical_trials_data:
  <<: *_medical_clinical_trials_sheet_dataset
  save_args:
    sheet_name: new_clinical_trial_DD_pairs
    write_columns: ["drug_curie", "disease_curie"]
  load_args:
    sheet_name: new_clinical_trial_DD_pairs
    columns:
      - "clinical_trial_id"
      - "reason_for_rejection"
      - "drug_name"
      - "disease_name"
      - "significantly_better"
      - "non_significantly_better"
      - "non_significantly_worse"
      - "significantly_worse"
      - "drug_curie"
      - "disease_curie"
