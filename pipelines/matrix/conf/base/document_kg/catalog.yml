_spark_parquet_ds: &_spark_parquet
  type: matrix_gcp_datasets.gcp.LazySparkDataset
  file_format: parquet
  load_args:
    header: True

_pandas_csv: &_pandas_csv
  type: pandas.CSVDataset

_sql_dataset: &_sql_dataset
  type: pandas.SQLTableDataset
  credentials: sqlite_credentials
  save_args:
    if_exists: replace

_layer_raw: &_layer_raw
  metadata:
    kedro-viz:
      layer: raw

_layer_int: &_layer_int
  metadata:
    kedro-viz:
      layer: integration

_layer_prm: &_layer_prm
  metadata:
    kedro-viz:
      layer: primary

document_kg.raw.infores:
  type: yaml.YAMLDataset
  <<: *_layer_raw
  filepath: https://raw.githubusercontent.com/biolink/information-resource-registry/refs/heads/main/infores_catalog.yaml

document_kg.raw.reusabledata:
  type: json.JSONDataset
  <<: *_layer_raw
  filepath: https://raw.githubusercontent.com/reusabledata/reusabledata/refs/heads/master/data.json

document_kg.raw.kgregistry:
  type: yaml.YAMLDataset
  <<: *_layer_raw
  filepath: https://raw.githubusercontent.com/Knowledge-Graph-Hub/kg-registry/refs/heads/main/registry/kgs.yml

document_kg.raw.matrix_curated_pks@pandas:
  <<: [*_pandas_csv, *_layer_raw]
  filepath: ${globals:paths.raw_public}/kg_metadata/matrix-pks-curated-metadata.tsv
  load_args:
    sep: "\t"

document_kg.raw.matrix_reviews_pks@pandas:
  <<: [*_pandas_csv, *_layer_raw]
  filepath: ${globals:paths.raw_public}/kg_metadata/matrix-pks-reviews.tsv
  load_args:
    sep: "\t"

document_kg.raw.mapping_reusabledata_infores:
  <<: [*_pandas_csv, *_layer_raw]
  filepath: ${globals:paths.raw_public}/kg_metadata/reusabledata-infores.sssom.tsv
  load_args:
    sep: "\t"

document_kg.raw.mapping_kgregistry_infores:
  <<: [*_pandas_csv, *_layer_raw]
  filepath: ${globals:paths.raw_public}/kg_metadata/kgregistry-infores.sssom.tsv
  load_args:
    sep: "\t"

document_kg.int.pks_integrated_kg_list:
  <<: [*_pandas_csv, *_layer_int]
  filepath: ${globals:paths.tmp}/document_kg/pks_integrated_kg_list.csv

document_kg.prm.pks_yaml:
  type: yaml.YAMLDataset
  <<: *_layer_prm
  filepath: ${globals:paths.release}/kg/primary-knowledge-sources.yml
  save_args:
    default_flow_style: false

document_kg.prm.pks_md:
  type: text.TextDataset
  <<: *_layer_prm
  filepath: ${globals:paths.release}/primary-knowledge-sources.md
