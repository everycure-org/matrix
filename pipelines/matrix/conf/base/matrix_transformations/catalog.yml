_spark_parquet_ds: &_spark_parquet
  type: matrix.datasets.gcp.LazySparkDataset
  file_format: parquet
  save_args:
    mode: overwrite

_pandas_parquet: &_pandas_parquet
  type: matrix.datasets.graph.PandasParquetDataset
  save_args:
    engine: pyarrow
  load_args:
    engine: pyarrow

"matrix_transformations.fold_{fold}.model_output.sorted_matrix_predictions_with_train_data@spark":
  <<: *_spark_parquet
  filepath: ${globals:paths.matrix_transformations}/fold_{fold}/transformed_matrix_with_train_data

matrix_transformations.fold_{fold}.model_output.sorted_matrix_predictions@spark:
  <<: *_spark_parquet
  filepath: ${globals:paths.matrix_transformations}/fold_{fold}/transformed_matrix

matrix_transformations.fold_{fold}.model_output.sorted_matrix_predictions@pandas:
  <<: *_pandas_parquet
  filepath: ${globals:paths.matrix_transformations}/fold_{fold}/transformed_matrix