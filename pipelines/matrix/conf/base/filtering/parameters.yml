filtering:
# TODO: implement dedup in filtering pipeline
  deduplication:
    # choose if a node should have the most specific category. 
    # E.g. if a node has all_categories [biolink:ChemicalEntity, biolink:NamedThing],
    # then node will be assigned biolink:ChemicalEntity as most specific category.
    # For RTX-KG2 reproduction from KGML-xDTD, choose false
    retrieve_most_specific_category: false

  node_filters:
    filter_node_labels:
      _object: matrix.pipelines.modelling.utils.partial_
      func:
        _object: matrix.pipelines.filtering.filters.remove_rows_containing_category
      exclude_sources: ["ec_medical"]
      column: category
      categories:
      # TODO: We should likely not remove these before our data release stage but afterwards in the modelling pipeline (if the model so desires)
        - biolink:Activity
        - biolink:Agent
        - biolink:ClinicalIntervention
        - biolink:Cohort
        - biolink:Device
        - biolink:EnvironmentalFeature
        - biolink:EnvironmentalProcess
        - biolink:Event
        - biolink:GeographicLocation
        - biolink:IndividualOrganism
        - biolink:InformationContentEntity
        - biolink:InformationResource
        - biolink:LifeStage
        - biolink:MaterialSample
        - biolink:NamedThing
        - biolink:Phenomenon
        - biolink:PhysicalEntity
        - biolink:PopulationOfIndividualOrganisms
        - biolink:Procedure
        - biolink:Publication
        - biolink:Treatment
        # If you add anything here make sure the fabricator is not generating it, else we remove it

    filter_sources:
      _object: matrix.pipelines.modelling.utils.partial_
      func:
        _object: matrix.pipelines.filtering.filters.keep_rows_containing
      column: upstream_data_source
      # exclude_sources: ["ec_medical"]
      keep_list:
        - rtxkg2
        - robokop
  
  edge_filters:
    # FUTURE: Ensure the semmed filter is moved here instead
    filter_biolink_edges:
      _object: matrix.pipelines.modelling.utils.partial_
      func:
        _object: matrix.pipelines.filtering.filters.biolink_deduplicate_edges
    
    filter_sources:
      _object: matrix.pipelines.modelling.utils.partial_
      func:
        _object: matrix.pipelines.filtering.filters.keep_rows_containing
        # Find out why different property on edges
      column: kg_sources
      # exclude_sources: ["ec_medical"]
      keep_list:
        - rtxkg2
        - robokop