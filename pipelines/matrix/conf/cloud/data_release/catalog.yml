_bigquery_ds: &_bigquery_ds
  type: matrix_gcp_datasets.gcp.SparkDatasetWithBQExternalTable
  project_id: ${oc.env:RUNTIME_GCP_PROJECT_ID}
  dataset: release_${globals:versions.release}
  file_format: parquet
  save_args:
    mode: overwrite
    labels:
      git_sha: ${globals:git_sha}

data_release.feat.nodes_with_embeddings:
  <<: *_bigquery_ds
  filepath: ${globals:paths.release}/prm/nodes_with_embeddings
  table: nodes_with_embeddings

data_release.dummy:
  type: yaml.YAMLDataset
  filepath: ${globals:paths.tmp}/foo.yaml
