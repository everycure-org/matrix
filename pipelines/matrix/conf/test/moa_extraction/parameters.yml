moa_extraction:
  gdb:
    database: everycure-${globals:versions.release}

  preprocessing_options:
    add_tags:
      drug_types:
        - biolink:Drug
      disease_types:
        - biolink:Disease
      batch_size: 500
      verbose: False

  path_mapping:
    mapper_two_hop: 
      object: matrix.pipelines.moa_extraction.path_mapping.TestPathMapper
      num_hops: 2
      num_paths: 25
      unidirectional: false
      num_limit: 25
    mapper_three_hop: 
      object: matrix.pipelines.moa_extraction.path_mapping.TestPathMapper
      num_hops: 3
      num_paths: 10
      unidirectional: false
      num_limit: 25

  training:
    two_hop:
      tuner:
        n_calls: 10
        estimator:
          module__token_dim: 2
          module__num_heads: 1
          optimizer: torch.optim.Adam
          optimizer__lr: 0.0001
        dimensions:
          - object: skopt.space.Integer
            name: max_epochs
            low: 1
            high: 2
          - object: skopt.space.Integer
            name: module__num_layers
            low: 1
            high: 2
    three_hop:
      tuner:
        n_calls: 10
        estimator:
          module__token_dim: 2
          module__num_heads: 1
          optimizer: torch.optim.Adam
          optimizer__lr: 0.0001
        dimensions:
          - object: skopt.space.Integer
            name: max_epochs
            low: 1
            high: 2
          - object: skopt.space.Integer
            name: module__num_layers
            low: 1
            high: 2

  predictions:
    num_pairs_limit: 10 # For testing purposes only
    drug_col_name: source
    disease_col_name: target
