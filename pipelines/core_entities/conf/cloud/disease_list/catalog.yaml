# -------------------------------------------------------------------------
# Published
# -------------------------------------------------------------------------

primary.published.disease_list:
  type: everycure.datasets.kedro.DataCatalogDataset
  dataset: disease_list
  engine: pandas
  save_args:
    catalog_args:
      version: ${globals:release_version_semver}
      message: ${globals:release_message}
      description: Disease list, generated by disease list pipeline
      location:
        format: parquet
        uri: ${globals:paths.published}/ec-disease-list.parquet
        type: gcs
      owner:
        name: Jacques Vergine
        email: jacques@everycure.org
      origin:
        url: https://github.com/everycure-org/matrix
        system: Disease list pipeline
      tags: ["disease_list"]

primary.published.disease_list_bq:
  type: pandas.GBQTableDataset
  project: ec-orchard-prod
  dataset: disease_list
  table_name: ec_disease_list_${globals:release_version_underscore}

primary.published.disease_list_bq_latest:
  type: matrix_gcp_datasets.gcp.GBQTableDataset
  project: ec-orchard-prod
  dataset: disease_list
  table_name: ec_disease_list_latest
  label_key: release
  label_value: ${globals:release_version_underscore}
  save_args:
    if_exists: replace