name: Release
on:
  push:
    branches:
      - 'feat/trigger-release-from-gh-action'  # TODO: replace by manual trigger and repository_dispatch
  # pull_request_review:
  #   types: [submitted]

jobs:
#   2nd workflow (gets triggered once PR is approved)
#   0. figure out tag from most recent folder in docs/src/releases/posts
#   1. gh release create <TAG FROM ABOVE> -F docs/src/releases/posts/.../post.md (edited)
#   2. How do we automate writing the article? Slack notifications?

  # approved:
  #   if: github.event.review.state == 'approved'
  #   runs-on: ubuntu-latest
  #   name: PR approval

  #   steps:
  #     - name: "check the PR state"
  #       run: echo "The release PR was approved"

  create_release:
    # needs: [approved]
    runs-on: ubuntu-latest
    name: Create release

    steps:
      - name: Checkout
        uses: actions/checkout@4

      - name: Fetch latest tag
        id: fetch_tag
        working-directory: docs/src/releases/posts
        run: |
          ls
